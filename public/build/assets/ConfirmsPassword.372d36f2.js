import{d as p,Z as g,o as y,e as C,a as u,r as h,b as e,w as a,g as r,t as c,Y as k,n as b,G as v}from"./app.c8ed5195.js";import{b as x}from"./DialogModal.2f20d18c.js";import{_ as P}from"./InputError.89c4c510.js";import{_ as V}from"./PrimaryButton.74591227.js";import{_ as $}from"./SecondaryButton.0ab0333a.js";import{_ as S}from"./TextInput.8a164f72.js";const B={class:"mt-4"},E={__name:"ConfirmsPassword",props:{title:{type:String,default:"Confirm Password"},content:{type:String,default:"For your security, please confirm your password to continue."},button:{type:String,default:"Confirm"}},emits:["confirmed"],setup(t,{emit:d}){const n=p(!1),s=g({password:"",error:"",processing:!1}),i=p(null),w=()=>{axios.get(route("password.confirmation")).then(o=>{o.data.confirmed?d("confirmed"):(n.value=!0,setTimeout(()=>i.value.focus(),250))})},m=()=>{s.processing=!0,axios.post(route("password.confirm"),{password:s.password}).then(()=>{s.processing=!1,l(),v().then(()=>d("confirmed"))}).catch(o=>{s.processing=!1,s.error=o.response.data.errors.password[0],i.value.focus()})},l=()=>{n.value=!1,s.password="",s.error=""};return(o,f)=>(y(),C("span",null,[u("span",{onClick:w},[h(o.$slots,"default")]),e(x,{show:n.value,onClose:l},{title:a(()=>[r(c(t.title),1)]),content:a(()=>[r(c(t.content)+" ",1),u("div",B,[e(S,{ref_key:"passwordInput",ref:i,modelValue:s.password,"onUpdate:modelValue":f[0]||(f[0]=_=>s.password=_),type:"password",class:"mt-1 block w-3/4",placeholder:"Password",onKeyup:k(m,["enter"])},null,8,["modelValue","onKeyup"]),e(P,{message:s.error,class:"mt-2"},null,8,["message"])])]),footer:a(()=>[e($,{onClick:l},{default:a(()=>[r(" Cancel ")]),_:1}),e(V,{class:b(["ml-3",{"opacity-25":s.processing}]),disabled:s.processing,onClick:m},{default:a(()=>[r(c(t.button),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{E as _};
