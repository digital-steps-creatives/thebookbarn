import{d as v,u as B,o as i,c as I,w as u,a as e,g,b as s,h as t,L as N,j as h,l,S as b,e as c,W as k,F as x,i as w,t as P,f as S,y as V,v as j,X as L,n as M,D}from"./app.7d6af713.js";import{A as E}from"./AdminLayout.d14fa1ac.js";import{_ as m}from"./InputError.8a553fe7.js";import{_}from"./InputLabel.00f2b0ae.js";import{_ as $}from"./PrimaryButton.dd284f3d.js";import{_ as O}from"./SecondaryButton.cd945670.js";import"./DropdownLink.c3ce3055.js";const R={class:"font-semibold text-xl text-gray-800 leading-tight"},q=e("br",null,null,-1),z={class:"py-12"},K={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"bg-white p-8 sm:rounded-lg"},H={class:"row justify-content-center"},W={class:"col-sm-6"},X=e("h4",{class:"mb-4"},"Product Information",-1),G=["onSubmit"],J={class:"mb-3"},Q={class:"flex"},Y={class:"flex items-center mr-4"},Z=e("label",{for:"book",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Book",-1),ee={class:"flex items-center mr-4"},te=e("label",{for:"stationary",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Stationary",-1),re={class:"flex items-center mr-4"},ae=e("label",{for:"uniform",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Uniform",-1),oe={key:0,class:"mb-3"},se=["value"],le={key:1,class:"mb-3"},ne=["value"],de={class:"inline-flex relative items-center cursor-pointer"},ie=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"},null,-1),ce=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"Product Availability",-1),ue={class:"inline-flex relative items-center cursor-pointer"},me=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"},null,-1),pe=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"Product Status",-1),fe=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",for:"user_avatar"},"Upload Product Image",-1),ge={class:"mt-2"},_e=["src","alt"],be={class:"mt-2"},Se={__name:"Create",props:{classes:Object,subjects:Object},setup(y){const n=v(null),p=v(null),r=B({name:null,subject_id:null,class_level_id:null,product_type:null,featured_image:"/images/dummy_product.png",availability:null,category:null,status:null,_method:"POST"}),C=()=>{const d=n.value.files[0];if(!d)return;const o=new FileReader;o.onload=f=>{p.value=f.target.result},o.readAsDataURL(d)},U=()=>{n.value.click()},F=()=>{n.value&&(r.featured_image=n.value.files[0]),r.post(route("admin.product.create"),{errorBag:"createProroduct",preserveScroll:!0,onSuccess:()=>A()})},A=()=>{var d;(d=n.value)!=null&&d.value&&(n.value.value=null)};return(d,o)=>{const f=D("FormKit");return i(),I(E,{title:"Manage / Products/ Add a Product"},{header:u(()=>[e("h2",R,[g(" Manage / Products/ Add a Product "),q,s(t(N),{href:d.route("admin.manage.products"),class:"text-secondary-600 text-decoration-none text-sm"},{default:u(()=>[g("Back to Products")]),_:1},8,["href"])])]),default:u(()=>[e("div",z,[e("div",K,[e("div",T,[e("div",H,[e("div",W,[X,e("form",{id:"basic__information",onSubmit:h(F,["prevent"])},[e("div",null,[s(f,{type:"text",label:"Full Names",validation:"required","validation-visibility":"live",help:"Enter a product's name",modelValue:t(r).name,"onUpdate:modelValue":o[0]||(o[0]=a=>t(r).name=a)},null,8,["modelValue"]),s(m,{class:"mt-2",message:t(r).errors.name},null,8,["message"])]),e("div",J,[s(_,{for:"product_type",value:"Select Product type",class:"formkit-label block mb-1 font-bold text-sm"}),e("div",Q,[e("div",Y,[l(e("input",{id:"book","onUpdate:modelValue":o[1]||(o[1]=a=>t(r).product_type=a),type:"radio",value:"book",name:"product_type",class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[b,t(r).product_type]]),Z]),e("div",ee,[l(e("input",{id:"stationary","onUpdate:modelValue":o[2]||(o[2]=a=>t(r).product_type=a),type:"radio",value:"stationary",name:"product_type",class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[b,t(r).product_type]]),te]),e("div",re,[l(e("input",{id:"uniform","onUpdate:modelValue":o[3]||(o[3]=a=>t(r).product_type=a),type:"radio",value:"uniform",name:"product_type",class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[b,t(r).product_type]]),ae])]),s(m,{class:"mt-2",message:t(r).errors.product_type},null,8,["message"])]),t(r).product_type==="book"?(i(),c("div",oe,[s(_,{for:"subject",value:"Select Subject",class:"formkit-label block mb-1 font-bold text-sm"}),l(e("select",{name:"subject",id:"subject",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=a=>t(r).subject_id=a)},[(i(!0),c(x,null,w(y.subjects,a=>(i(),c("option",{value:a.id,key:a.id},P(a.name),9,se))),128))],512),[[k,t(r).subject_id]]),s(m,{class:"mt-2",message:t(r).errors.subject_id},null,8,["message"])])):S("",!0),t(r).product_type==="book"?(i(),c("div",le,[s(_,{for:"class_level",value:"Assign Class/Level",class:"formkit-label block mb-1 font-bold text-sm"}),l(e("select",{name:"class_level",id:"class_level",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=a=>t(r).class_level_id=a)},[(i(!0),c(x,null,w(y.classes,a=>(i(),c("option",{value:a.id,key:a.id},P(a.class),9,ne))),128))],512),[[k,t(r).class_level_id]]),s(m,{class:"mt-2",message:t(r).errors.subject_id},null,8,["message"])])):S("",!0),e("div",null,[s(f,{type:"select",label:"Product Category",validation:"required","validation-visibility":"live",modelValue:t(r).category,"onUpdate:modelValue":o[6]||(o[6]=a=>t(r).category=a),options:["Pre-Primary & ECDE","Competency Based Curriculum","International Curriculum","Primary School","Secondary School","Higher Education"]},null,8,["modelValue"]),s(m,{class:"mt-2",message:t(r).errors.category},null,8,["message"])]),e("div",null,[e("label",de,[l(e("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":o[7]||(o[7]=a=>t(r).availability=a)},null,512),[[V,t(r).availability]]),ie,ce])]),e("div",null,[e("label",ue,[l(e("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":o[8]||(o[8]=a=>t(r).status=a)},null,512),[[V,t(r).status]]),me,pe])]),e("div",null,[fe,e("input",{ref_key:"photoInput",ref:n,type:"file",class:"hidden",onChange:C},null,544),s(_,{for:"photo",value:"Featured Image"}),l(e("div",ge,[e("img",{src:t(r).featured_image,alt:t(r).name,class:"rounded-md h-24 w-24 object-cover"},null,8,_e)],512),[[j,!t(p)]]),l(e("div",be,[e("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:L("background-image: url('"+t(p)+"');")},null,4)],512),[[j,t(p)]]),s(O,{class:"mt-2 mr-2",type:"button",onClick:h(U,["prevent"])},{default:u(()=>[g(" Select A New Photo ")]),_:1},8,["onClick"])]),e("div",null,[s($,{class:M(["my-4",{"opacity-25":t(r).processing}]),disabled:t(r).processing},{default:u(()=>[g(" Update Product ")]),_:1},8,["class","disabled"])])],40,G)])])])])])]),_:1})}}};export{Se as default};
