import{d as k,u as N,o as c,c as A,w as p,a as e,g as b,t as v,b as s,h as t,L as E,j as x,l as n,R as h,e as u,V as w,F as P,i as V,f as j,y as S,v as C,W as L,n as M,C as D}from"./app.734a16c0.js";import{A as R}from"./AdminLayout.27e122be.js";import{_ as f}from"./InputError.9b8e4b38.js";import{_ as y}from"./InputLabel.8a84a250.js";import{_ as $}from"./PrimaryButton.8b35c603.js";import{_ as O}from"./SecondaryButton.b601ee2f.js";import"./DropdownLink.726166a2.js";const q={class:"font-semibold text-xl text-gray-800 leading-tight"},z=e("br",null,null,-1),K={class:"py-12"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"bg-white p-8 sm:rounded-lg"},W={class:"row justify-content-center"},G={class:"col-sm-6"},J=e("h4",{class:"mb-4"},"Product Information",-1),Q=["onSubmit"],X={class:"mb-3"},Y={class:"flex"},Z={class:"flex items-center mr-4"},ee=e("label",{for:"book",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Book",-1),te={class:"flex items-center mr-4"},re=e("label",{for:"stationary",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Stationary",-1),oe={class:"flex items-center mr-4"},ae=e("label",{for:"uniform",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Uniform",-1),se={key:0,class:"mb-3"},le=["value"],ne={key:1,class:"mb-3"},de=["value"],ie={class:"inline-flex relative items-center cursor-pointer"},ce=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"},null,-1),ue=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"Product Availability",-1),me={class:"inline-flex relative items-center cursor-pointer"},pe=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"},null,-1),fe=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"Product Status",-1),ge=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",for:"user_avatar"},"Upload Product Image",-1),_e={class:"mt-2"},be=["src","alt"],ye={class:"mt-2"},je={__name:"Edit",props:{product:Object,classes:Object,subjects:Object},setup(m){const l=m,d=k(null),g=k(null),r=N({name:l.product.name,subject_id:l.product.subject_id,class_level_id:l.product.class_level_id,product_type:l.product.product_type,featured_image:l.product.featured_image,availability:l.product.availability,category:l.product.category,status:l.product.status,_method:"PUT"}),U=()=>{const i=d.value.files[0];if(!i)return;const a=new FileReader;a.onload=_=>{g.value=_.target.result},a.readAsDataURL(i)},F=()=>{d.value.click()},B=()=>{d.value&&(r.featured_image=d.value.files[0]),r.post(route("admin.product.update",l.product.id),{errorBag:"updateProroduct",preserveScroll:!0,onSuccess:()=>I()})},I=()=>{var i;(i=d.value)!=null&&i.value&&(d.value.value=null)};return(i,a)=>{const _=D("FormKit");return c(),A(R,{title:"Manage / Products/ "+m.product.name},{header:p(()=>[e("h2",q,[b(" Manage / Products / "+v(m.product.name)+" ",1),z,s(t(E),{href:i.route("admin.manage.products"),class:"text-secondary-600 text-decoration-none text-sm"},{default:p(()=>[b("Back to Products")]),_:1},8,["href"])])]),default:p(()=>[e("div",K,[e("div",T,[e("div",H,[e("div",W,[e("div",G,[J,e("form",{id:"basic__information",onSubmit:x(B,["prevent"])},[e("div",null,[s(_,{type:"text",label:"Full Names",validation:"required","validation-visibility":"live",help:"Enter a product's name",modelValue:t(r).name,"onUpdate:modelValue":a[0]||(a[0]=o=>t(r).name=o)},null,8,["modelValue"]),s(f,{class:"mt-2",message:t(r).errors.name},null,8,["message"])]),e("div",X,[s(y,{for:"product_type",value:"Select Product type",class:"formkit-label block mb-1 font-bold text-sm"}),e("div",Y,[e("div",Z,[n(e("input",{id:"book","onUpdate:modelValue":a[1]||(a[1]=o=>t(r).product_type=o),type:"radio",value:"book",name:"product_type",class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[h,t(r).product_type]]),ee]),e("div",te,[n(e("input",{id:"stationary","onUpdate:modelValue":a[2]||(a[2]=o=>t(r).product_type=o),type:"radio",value:"stationary",name:"product_type",class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[h,t(r).product_type]]),re]),e("div",oe,[n(e("input",{id:"uniform","onUpdate:modelValue":a[3]||(a[3]=o=>t(r).product_type=o),type:"radio",value:"uniform",name:"product_type",class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[h,t(r).product_type]]),ae])]),s(f,{class:"mt-2",message:t(r).errors.product_type},null,8,["message"])]),t(r).product_type==="book"?(c(),u("div",se,[s(y,{for:"subject",value:"Select Subject",class:"formkit-label block mb-1 font-bold text-sm"}),n(e("select",{name:"subject",id:"subject",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=o=>t(r).subject_id=o)},[(c(!0),u(P,null,V(m.subjects,o=>(c(),u("option",{value:o.id,key:o.id},v(o.name),9,le))),128))],512),[[w,t(r).subject_id]]),s(f,{class:"mt-2",message:t(r).errors.subject_id},null,8,["message"])])):j("",!0),t(r).product_type==="uniform"||t(r).product_type==="book"?(c(),u("div",ne,[s(y,{for:"class_level",value:"Assign Class/Level",class:"formkit-label block mb-1 font-bold text-sm"}),n(e("select",{name:"class_level",id:"class_level",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=o=>t(r).class_level_id=o)},[(c(!0),u(P,null,V(m.classes,o=>(c(),u("option",{value:o.id,key:o.id},v(o.class),9,de))),128))],512),[[w,t(r).class_level_id]]),s(f,{class:"mt-2",message:t(r).errors.class_level_id},null,8,["message"])])):j("",!0),e("div",null,[s(_,{type:"select",label:"Product Category",validation:"required","validation-visibility":"live",modelValue:t(r).category,"onUpdate:modelValue":a[6]||(a[6]=o=>t(r).category=o),options:["Pre-Primary & ECDE","Competency Based Curriculum","International Curriculum","Primary School","Secondary School","Higher Education"]},null,8,["modelValue"]),s(f,{class:"mt-2",message:t(r).errors.category},null,8,["message"])]),e("div",null,[e("label",ie,[n(e("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":a[7]||(a[7]=o=>t(r).availability=o)},null,512),[[S,t(r).availability]]),ce,ue])]),e("div",null,[e("label",me,[n(e("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":a[8]||(a[8]=o=>t(r).status=o)},null,512),[[S,t(r).status]]),pe,fe])]),e("div",null,[ge,e("input",{ref_key:"photoInput",ref:d,type:"file",class:"hidden",onChange:U},null,544),s(y,{for:"photo",value:"Featured Image"}),n(e("div",_e,[e("img",{src:t(r).featured_image,alt:t(r).name,class:"rounded-md h-24 w-24 object-cover"},null,8,be)],512),[[C,!t(g)]]),n(e("div",ye,[e("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:L("background-image: url('"+t(g)+"');")},null,4)],512),[[C,t(g)]]),s(O,{class:"mt-2 mr-2",type:"button",onClick:x(F,["prevent"])},{default:p(()=>[b(" Select A New Photo ")]),_:1},8,["onClick"])]),e("div",null,[s($,{class:M(["my-4",{"opacity-25":t(r).processing}]),disabled:t(r).processing},{default:p(()=>[b(" Update Product ")]),_:1},8,["class","disabled"])])],40,Q)])])])])])]),_:1},8,["title"])}}};export{je as default};
